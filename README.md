# 자율주행을 활용한 스마트 쓰레기 수거 서비스 #
### 소개 ###
주행주행 기술을 활용하여 회원제 기반의 쓰레기 수거 서비스를 제작한 프로젝트입니다.
### 목적 ###
자율주행을 활용한 서비스 개발을 진행함으로써 IoT 서비스 전반에 필요한 기술(HW 제어, 데이터 통신, 서버 구현 등)을 응용하고 개발 과정 경험을 목적으로 진행한 프로젝트입니다.
### 주제 선정 배경 ###
자율주행 자동차가 가까운 미래에 어떤 분야에서 효과적으로 활용할 수 있을지 고민했습니다. 상가 주변에서 발생하는 쓰레기를 보며 정해진 시간 이외에도 실시간으로 수거하여 도시 미관을 조성하면 좋겠다는 생각이 들었습니다. 또한, 쓰레기 처리 분야에서 자율주행 기술을 긍정적으로 바라볼 수 있다는 의미 부여와 함께 쓰레기 수거 서비스 개발을 진행하게 되었습니다.
### 맡은 역할 ###
웹어플리케이션 개발을 담당하며 차량 및 쓰레기에 대한 실시간 데이터 통신 및 웹페이지 구현을 진행했습니다.
### 개발 도구 ###
- Arduino: 주행 기능
- Raspberry Pi: 영상 처리, 물체 식별, 데이터 통신
- Spring Framework: 웹서버 기반의 쓰레기 수거 현황 파악 및 모니터링
### 주요 기술 ###
- 차선 인식 및 제어: OpenCV를 통한 차선 검출 및 이미지 중간 좌표 비교를 통한 주행 방향 결정

    ![image](https://user-images.githubusercontent.com/47841701/60891295-fffc5880-a297-11e9-8024-0f2ad18a33a8.png) ![image](https://user-images.githubusercontent.com/47841701/60891308-0559a300-a298-11e9-8be7-bf2f851d8740.png)
    
    ※ 원본(왼쪽)에서 차선만 검출한 이미지(오른쪽)
    
- 물체 인식: 딥러닝 기반의 사물 식별(쓰레기통, 표지판, 신호등) 모델링

    ![image](https://user-images.githubusercontent.com/47841701/60891320-0b4f8400-a298-11e9-9719-72a2f89a94a8.png) ![image](https://user-images.githubusercontent.com/47841701/60891326-0e4a7480-a298-11e9-9630-b2e8dc0361d9.png)
    
- 장치 간 통신: 블루투스, 웹소켓을 통한 데이터 통신(쓰레기 적재량, 차량 수동 제어, 주행 영상)

- 쓰레기 수거 관리: 네이버 지도 API를 통한 사용자 쓰레기 현황 파악(적재량에 따른 icon 상태 변화)![image](https://user-images.githubusercontent.com/47841701/60891589-8fa20700-a298-11e9-80b4-013d5241c411.png)


### 서비스 시나리오 ###
※ 동작 환경: 실습용 트랙과 배치된 사물 정보를 판단하여 주행함
![image](https://user-images.githubusercontent.com/47841701/60894427-94b58500-a29d-11e9-8aa5-ddbe4fa555e6.png)

- step 1. 회원 가입 및 쓰레기통 발급
- step 2. 초음파 센서를 통한 쓰레기 적재량 전달(쓰레기통 -> 서버)
- step 3. 모니터링 및 기준치 이상으로 검출 시 상태 변경(100L 기준 0~39L: 초록, 40~74L: 노랑, 75L~100L: 빨강)
- step 4. 쓰레기 수거 신호 전송(서버 -> 차량)
- step 5. 자율주행 쓰레기 트럭이 발급된 쓰레기를 인식 후 정지
- step 6. 정지 시 쓰레기 수거함을 가정으로 완료 신호를 전송(챠량 -> 서버)
- step 7. 서버에서 적재 상태를 갱신하고 다음 수거 대상에 명령

### 개선 사항 ###
- 실시간 데이터 처리 능력 향상을 통해 인지-판단-제어 시간 단축 필요
- 웹서버에서 수집한 데이터 도식화 필요